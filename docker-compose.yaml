version: '3'

services: 
  anon-chat:
    container_name: anon-chat
    build: .
    environment: 
      - TZ=Asia/Bangkok
    command: ["./anon-chat"]
    working_dir: /go/src/anon-chat
    volumes: 
      - .:/go/src/anon-chat
    ports: 
      - "8000:8000"
    depends_on:
      - "postgres"
    links: 
      - "postgres"

  postgres:
    container_name: postgres
    image: postgres
    environment: 
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=anonchat
      - TZ=Asia/Bangkok
    ports:
      - "5434:5432"      